/* 
 *  Copyright (C) 2016 RAD-IMAGE s.r.l.
 * 
 *  Questo software è proprietà di RAD-IMAGE s.r.l.
 *  Tutti gli usi non esplicitimante autorizzati sono da 
 *  considerarsi tutelati ai sensi di legge.
 * 
 *  RAD-IMAGE s.r.l.
 *  Via San Giovanni, 1 - Contrada Belvedere
 *  San Nicola Manfredi (BN)
 * 
 *  Creato il 10 Febbraio 2016, 19:06:00
 */
package it.radimage.argo.servlets;

import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;

/**
 * <p>Title: Newstar Jsp</p>
 * <p>Description: Logout dall'applicazione newstar.
 * La sessione viene invalidata in modo da annullare tutti
 * i dati transienti legati all'utente.</p>
 * <p>Aggiungere a web.xml le seguenti righe:</p>
 * <pre>
  &lt;servlet&gt;
    &lt;servlet-name&gt;logout&lt;/servlet-name&gt;
    &lt;servlet-class&gt;it.italsystems.newstar.servlets.logout&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;logout&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
 * </pre>
 * <p>Copyright: Copyright (c) 2002</p>
 * <p>Company: Italsystems s.r.l.</p>
 * @author Nicola De Nisco
 * @version 1.0
 */

public class logout extends HttpServlet
{
  //private static final String CONTENT_TYPE = "text/html; charset=ISO-8859-15";
  private static final String LOGOUT_PAGE = "/jslogon.jsp";

  /**
   * Invalida la sessione e redirige alla servlet di logon
   * @param request
   * @param response
   * @throws ServletException
   * @throws IOException
   */
  @Override
  public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException
  {
    request.getSession().invalidate();
    String url = request.getContextPath()+LOGOUT_PAGE;
    response.sendRedirect(url);
  }

  @Override
  public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException
  {
    doGet(request, response);
  }
}
